---
title: "Front End Modules"
description: "Complex functionalities within your web pages."
aliases:
    - /documentation/front-end-modules/
    - /framework/content-modules/
---


TODO


In Contao, Content Elements are the fundamental content blocks. In its simplest
form it is a fragment controller which receives data in form of a content model
and returns a response.


## Definition

To create a new content element, the following things must be defined and implemented:

* __Fragment Controller__<br>
  The actual implementation of the content element is done via a class that extends
  from `AbstractContentElementController` of the Contao core.

* __Service Tag__<br>
  To identify the controller as a Contao content element, the service must be tagged
  with service tag `contao.content_element`.

  * __Type__<a id="type"></a><br>
    The *type* of a content element is a specifig string which is used to identify
    the element's template and DCA palette. The `type` can be set in the service 
    tag. If ommitted the type will be automatically generated by converting the 
    class name of the controller from pascal case to underscore and removing a possible 
    `Controller` postfix.
  
  * __Category__<br>
    All content elements are categorised within the type dropdown of the content element's
    palette. A `category` must be defined in the service tag for each content element.

* __Template__<br>
  The template name follows the naming convention mentioned beforehand. It prepends
  the *type* of the element with the prefix `ce_`.


## Example

Usually a content element is based on a specific [palette][2] in the `tl_content`
DCA configuration.

```php
// contao/dca/tl_content.php
$GLOBALS['TL_DCA']['tl_content']['palettes']['my_content_element'] = '
    {type_legend},type;
    {text_legend),title,text;
';
```

This very simple palette enables a back end user to fill the two fields `title`
and `text` via the create and edit view of this Content Element.

The controller for this content element could look like this:

```php
// src/Controller/FrontendModule/MyFrontendModuleController.php
namespace App\Controller\FrontendModule;

use App\Model\ExampleModel;
use Contao\CoreBundle\Controller\FrontendModule\AbstractFrontendModuleController;
use Contao\CoreBundle\Exception\PageNotFoundException;
use Contao\CoreBundle\Framework\ContaoFramework;
use Contao\FrontendTemplate;
use Contao\ModuleModel;
use Contao\Template;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Terminal42\ServiceAnnotationBundle\Annotation\ServiceTag;

/**
 * @ServiceTag("contao.frontend_module", category="miscellaneous")
 */
class MyFrontendModuleController extends AbstractFrontendModuleController
{
    protected $framework;

    public function __construct(ContaoFramework $framework)
    {
        $this->framework = $framework;
    }

    protected function getResponse(Template $template, ModuleModel $model, Request $request): ?Response
    {
        $input = $this->framework->getAdapter(\Contao\Input::class);
        $autoItem = $input->get('auto_item');

        if (null !== $autoItem && null !== ($item = ExampleModel::findOneBy(['alias = ?'], [$autoItem]))) {
            $itemTemplate = new FrontendTemplate($model->itemTemplate);
            $itemTemplate->setData($item->row());
            $template->item = $itemTemplate->parse();

            return $template->getResponse();
        }

        throw new PageNotFoundException();
    }
}
```

In this example the service tag was implemented via annotations by using the
[`ServiceAnnotationBundle`][5].

Using the naming convention for templates mentioned above, the final template name
for this content element will be `ce_my_content_element`:

```html
<!-- templates/ce_my_content_element.html5 -->
<div class="my-content-element">
    <h2><?= $this->title; ?></h2>
    
    <?= $this->text; ?>
</div>
```

A template instance of this template will automatically be generated and passed 
to the controller's main method. The controller simply returns the parsed template
as a response.


## Options

The `contao.content_element` tag can be configured further more. The following
options are available:

* `category`: Defines in which option group this content element will be placed 
in the content element selector.
* `type`: The *type* mentioned in [Type]({{< ref "#type" >}}) can be customized.
* `renderer`: The renderer can be changed to `esi`. Defaults to `inline`.
* `method`: Which method should be invoked on the controller.

A more complex example of a Content Element could look like this.

```yaml
# config/services.yaml
services:
    App\Controller\ContentElement\MyContentElementController:
        tags:
            -
                name: contao.content_element,
                category: texts,
                method: getCustomResponse,
                renderer: esi,
                type: my_custom_type
```

## Read more

* [DCA Configuration reference][1]
* [Manipulate and create palettes][2]
* [Create and use templates][3]
* [Customize Caching][4]

[1]: ../../reference/dca/reference
[2]: ../../reference/dca/palettes
[3]: ../templates
[4]: ../caching
[5]: https://github.com/terminal42/service-annotation-bundle